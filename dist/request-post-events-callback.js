var i,d,e="function"==typeof window.setImmediate&&/\[native code\]/.test(window.setImmediate.toString()),t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(e)exports.requestPostEventsCallback=window.setImmediate.bind(window),exports.cancelPostEventsCallback=window.clearImmediate.bind(window);else if(t){var n=[],a=1,s="rPEC$"+Math.random(),o=(i=document.createElement("iframe"),d=document.documentElement,i.style.display="none",i.setAttribute("aria-hidden","true"),d.appendChild(i),i.contentWindow);o.addEventListener("message",function(e){e.source===window&&e.data===s&&n.length>0&&(0,n.shift().fn)()}),exports.requestPostEventsCallback=function(e){return o.postMessage(s,"*"),n.push({fn:e,handle:a}),a++},exports.cancelPostEventsCallback=function(e){n.splice(n.findIndex(function(t){return t.handle===e}),1)}}else exports.requestPostEventsCallback=requestAnimationFrame.bind(window),exports.cancelPostEventsCallback=cancelAnimationFrame.bind(window);
//# sourceMappingURL=request-post-events-callback.js.map
