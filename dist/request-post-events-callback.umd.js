!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.PostEventsCallback={})}(this,function(e){var n,t,i="function"==typeof window.setImmediate&&/\[native code\]/.test(window.setImmediate.toString()),a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(i)e.requestPostEventsCallback=window.setImmediate.bind(window),e.cancelPostEventsCallback=window.clearImmediate.bind(window);else if(a){var o=[],d=1,s="rPEC$"+Math.random(),c=(n=document.createElement("iframe"),t=document.documentElement,n.style.display="none",n.setAttribute("aria-hidden","true"),t.appendChild(n),n.contentWindow);c.addEventListener("message",function(e){e.source===window&&e.data===s&&o.length>0&&(0,o.shift().fn)()}),e.requestPostEventsCallback=function(e){return c.postMessage(s,"*"),o.push({fn:e,handle:d}),d++},e.cancelPostEventsCallback=function(e){o.splice(o.findIndex(function(n){return n.handle===e}),1)}}else e.requestPostEventsCallback=requestAnimationFrame.bind(window),e.cancelPostEventsCallback=cancelAnimationFrame.bind(window)});
//# sourceMappingURL=request-post-events-callback.umd.js.map
